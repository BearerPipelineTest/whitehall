<%
  show_instantly_live_warning ||= false
  show_consult_gds_warning ||= false
%>

<%= form_for [:admin, person] do |person_form| %>
  <%= person_form.errors %>

  <%= render "govuk_publishing_components/components/checkboxes", {
    name: "person[privy_counsellor]",
    items: [
      {
        label: "Rt Hon?",
        value: true,
        checked: @person.privy_counsellor?,
      }
    ]
  } %>

  <%= render "govuk_publishing_components/components/input", {
    label: {
      text: "Title"
    },
    name: "person[title]",
    value: @person.title,
  } %>

  <%= render "govuk_publishing_components/components/input", {
    label: {
      text: "Forename"
    },
    name: "person[forename]",
    value: @person.forename,
  } %>

  <%= render "govuk_publishing_components/components/input", {
    label: {
      text: "Surname"
    },
    name: "person[surname]",
    value: @person.surname,
  } %>

  <%= render "govuk_publishing_components/components/input", {
    label: {
      text: "Letters"
    },
    name: "person[letters]",
    value: @person.letters,
  } %>

  <% if @person.image_url %>
    <p class="govuk-body">
      <%= image_tag @person.image_url %>
    </p>
  <% end %>

  <%= render "govuk_publishing_components/components/file_upload", {
    label: {
      text: "Image"
    },
    name: "person[image]",
    value: @person.image,
  } %>

  <%= render "govuk_publishing_components/components/textarea", {
    label: {
      text: "Biography"
    },
    name: "person[biography]",
    value: @person.biography,
    rows: 20
  } %>

  <% if show_instantly_live_warning %>
    <%= render "govuk_publishing_components/components/inset_text", {
      text: "Warning: changes to people appear instantly on the live site."
    } %>
  <% end %>

  <% if show_consult_gds_warning %>
  <%= render "govuk_publishing_components/components/inset_text", {
    text: "Do not create ministerial people without consulting GDS."
  } %>
  <% end %>

  <%= render "govuk_publishing_components/components/button", {
    text: "Submit"
  } %>

  <%= render "govuk_publishing_components/components/button", {
    text: "Cancel",
    secondary_quiet: true,
    href: admin_people_path
  } %>
<% end %>
